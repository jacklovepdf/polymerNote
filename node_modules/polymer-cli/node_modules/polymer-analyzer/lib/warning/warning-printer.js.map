{"version":3,"sources":["../src/warning/warning-printer.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;GAYG;;;;;;;;;;AAEH,+BAA+B;AAM/B,MAAM,qBAAqB,GAAG;IAC5B,SAAS,EAAE,MAAgB;IAC3B,KAAK,EAAE,IAAI;CACZ,CAAC;AAEF;IAIE,YACY,UAAiC,EACzC,OAA0C;QADlC,eAAU,GAAV,UAAU,CAAuB;QAE3C,IAAI,CAAC,QAAQ,qBAAO,qBAAqB,EAAK,OAAO,CAAC,CAAC;QACvD,IAAI,CAAC,MAAM,GAAG,IAAI,KAAK,CAAC,WAAW,CAAC,EAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAC,CAAC,CAAC;IACxE,CAAC;IAED;;OAEG;IACG,aAAa,CAAC,QAA2B;;YAC7C,KAAK,MAAM,OAAO,IAAI,QAAQ,EAAE;gBAC9B,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,KAAK,MAAM,EAAE;oBACtC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;iBAC/B;gBACD,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;aACxD;QACH,CAAC;KAAA;CACF;AAtBD,wCAsBC","file":"warning-printer.js","sourcesContent":["/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport * as chalk from 'chalk';\n\nimport {Warning, WarningStringifyOptions} from '../model/model';\n\nexport type Verbosity = 'one-line'|'full';\n\nconst defaultPrinterOptions = {\n  verbosity: 'full' as 'full',\n  color: true\n};\n\nexport class WarningPrinter {\n  _chalk: chalk.Chalk;\n  private _options: WarningStringifyOptions;\n\n  constructor(\n      private _outStream: NodeJS.WritableStream,\n      options?: Partial<WarningStringifyOptions>) {\n    this._options = {...defaultPrinterOptions, ...options};\n    this._chalk = new chalk.constructor({enabled: !!this._options.color});\n  }\n\n  /**\n   * Convenience method around `printWarning`.\n   */\n  async printWarnings(warnings: Iterable<Warning>) {\n    for (const warning of warnings) {\n      if (this._options.verbosity === 'full') {\n        this._outStream.write('\\n\\n');\n      }\n      this._outStream.write(warning.toString(this._options));\n    }\n  }\n}\n"]}